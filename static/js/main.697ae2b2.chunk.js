(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(280)},124:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),s=a(283),l=a(285),c=a(284),u=(a(124),a(11)),d=a(12),h=a(15),m=a(13),p=a(6),b=a(14),f=(a(56),a(23)),g=a(52),y=a.n(g),v=a(104),E=a.n(v),w=a(282),k=function(e){return{button:{margin:3,justifyContent:"center"}}};var j=Object(f.withStyles)(k)(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(y.a,{size:"small",color:"inherit",variant:e.variant,className:t.button,component:e.to?w.a:void 0,to:e.to,href:e.href},e.text))}),O=Object(f.withStyles)(k)(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(E.a,{size:"small",color:"primary",variant:"extended","aria-label":"Add",className:t.margin,component:e.to?w.a:void 0,to:e.to,href:e.href},e.logo,e.text))}),x=a(105),C=a.n(x);var T=Object(f.withStyles)(function(e){return{root:{marginTop:"20px",width:"90vw",maxWidth:"500px"}}})(function(e){var t=e.classes;return r.a.createElement(C.a,{className:t.root,variant:"middle"})}),D=a(106),I=a.n(D),A=a(67),S=a.n(A),N=a(107),M=a.n(N),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(p.a)(a)),a.onEnterDown=a.onEnterDown.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.props.onChange(t)}},{key:"onEnterDown",value:function(e){13===e.keyCode&&this.props.onEnterDown()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:30}},r.a.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},r.a.createElement(I.a,{placeholder:this.props.placeholder,className:e.input,value:this.props.value,onChange:this.handleChange,onKeyDown:this.onEnterDown,fullWidth:!0})),r.a.createElement(S.a,{disabled:""===this.props.value,color:"primary",size:"small","aria-label":"Go",onClick:this.props.onEnterDown},r.a.createElement(M.a,null)))}}]),t}(r.a.Component),L=Object(f.withStyles)(function(e){return{input:{width:"60vw",maxWidth:"300px",paddingTop:5}}})(H),B=a(53),R=a.n(B),z=a(108),U=a.n(z),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={address:""},a.handleAddressChange=a.handleAddressChange.bind(Object(p.a)(a)),a.onEnterDown=a.onEnterDown.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleAddressChange",value:function(e){this.setState({address:e})}},{key:"onEnterDown",value:function(){this.props.history.push({pathname:"/around-me",state:this.state})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("img",{src:"/logo_canopee_v0.001.png",alt:"logo",height:"100%"})),r.a.createElement("main",null,r.a.createElement("h3",null,"A la recherche d'un bel arbre\xa0?"),r.a.createElement(O,{text:"Carte des arbres remarquables",variant:"outlined",to:"/explore",logo:r.a.createElement(U.a,null)}),r.a.createElement(T,null),r.a.createElement("h3",null,"Quels sont les arbres qui vous entourent\xa0?"),r.a.createElement(O,{text:"Utiliser ma position",variant:"outlined",logo:r.a.createElement(R.a,null),to:{pathname:"/around-me",state:this.state}}),r.a.createElement(L,{placeholder:"Ou plut\xf4t \xe0 cette adresse",onChange:this.handleAddressChange,onEnterDown:this.onEnterDown,value:this.state.address})),r.a.createElement("footer",null,r.a.createElement(j,{className:"inner",text:"Code",href:"https://github.com/hippolytej/tree-map"}),r.a.createElement(j,{text:"Coolitude",href:"https://www.arbres.org/actualite.html"}),r.a.createElement(j,{text:"Data",href:"https://opendata.paris.fr/explore/dataset/les-arbres/information/"})))}}]),t}(n.Component),F=a(30),W=a(25),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.treeIds,a=this.props.treeArray,n=this.props.color,o=this.props.markerType;return r.a.createElement(W.c,{type:o,id:this.props.treeType,layout:"symbol"===o?{"icon-image":"billy"}:void 0,paint:"circle"===o?{"circle-radius":7,"circle-color":n}:void 0},t.map(function(t){return r.a.createElement(W.a,{onMouseEnter:e.props.onTreeHover.bind(e,t),onMouseLeave:e.props.onTreeEndHover.bind(e),coordinates:a[t].geometry.coordinates,onClick:e.props.onTreeClick.bind(null,t),key:t})}))}}]),t}(n.Component);var P=Object(f.withStyles)(function(e){return{button:{margin:5}}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(y.a,{size:"small",variant:"outlined",className:t.button,onClick:e.onClick},e.text))}),J=a(35),Z=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.hoveredTree,t=this.props.onCloseButtonClick,a=this.props.onInfoButtonClick,n=this.props.isClicked,o=e.geometry.coordinates[0],i=e.geometry.coordinates[1],s="https://citymapper.com/directions?endcoord=".concat(i,"%2C").concat(o,"&endname=Arbre%20Remarquable");return r.a.createElement(W.e,{key:e.recordid,coordinates:e.geometry.coordinates,offset:15},r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("h3",{style:{fontFamily:"Roboto",fontSize:14,marginTop:5,marginBottom:5}},e.fields.libellefrancais),r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,fontWeight:"medium"}},"Genre"),r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,textAlign:"right"}},e.fields.genre)),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,fontWeight:"medium"}},"Esp\xe8ce"),r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,textAlign:"right"}},e.fields.espece)),"dateplantation"in e.fields?r.a.createElement("tr",null,r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,fontWeight:"medium"}},"Plant\xe9 en"),r.a.createElement("td",{style:{fontFamily:"Roboto",fontSize:14,textAlign:"right"}},e.fields.dateplantation.substr(0,4))):null)),n||J.isMobile?r.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},this.props.getMeThere?r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://static.citymapper.com/img/embed/GetMeThere_Citymapper.png",alt:"Get directions with Citymapper"})):null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(P,{onClick:a,text:"Infos"}),r.a.createElement(P,{onClick:t,text:"Fermer"}))):null))}}]),t}(n.Component),_=a(111),K=a.n(_),V=a(110),Q=a.n(V);var X=Object(f.withStyles)(function(e){return{progress:{marginLeft:20,marginRight:25,marginTop:20,width:"40"}}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(Q.a,{className:t.progress,color:"primary"}))}),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.timerHandle=setTimeout(function(){a.setState({imageLoaded:!0}),a.timerHandle=!1},3e3)},a.componentWillUnmount=function(){a.timerHandle&&(clearTimeout(a.timerHandle),a.timerHandle=!1)},a.state={imageLoaded:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleImageLoaded",value:function(){this.setState({imageLoaded:!0}),console.log("LOADED",this.state)}},{key:"handleImageErrored",value:function(){this.setState({imageLoaded:!1})}},{key:"render",value:function(){var e=this.state.imageLoaded,t=this.props.imageUrl;return r.a.createElement("div",null,r.a.createElement("img",{src:t,onLoad:this.handleImageLoaded.bind(this),onError:this.handleImageErrored.bind(this),alt:"",style:this.props.style}),e?null:r.a.createElement(X,null))}}]),t}(r.a.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"wikiContent",value:function(e,t){return r.a.createElement("div",{style:{maxWidth:450},tabIndex:0,role:"button",onClick:t.toggleDrawer,onKeyDown:t.toggleDrawer},r.a.createElement("div",{className:e.wikiRow},t.treeName,r.a.createElement(Y,{imageUrl:t.thumbnailUrl,altText:t.treeName})),r.a.createElement("div",{className:e.wikiTextContainer},r.a.createElement("p",{style:{alignItems:"center",justifyContent:"center"}},t.wikiDesc)))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(K.a,{anchor:J.isMobile?"bottom":"left",open:this.props.openDrawer,onClose:this.props.toggleDrawer},this.wikiContent(e,this.props)))}}]),t}(r.a.Component),ee=Object(f.withStyles)({mobileContent:{maxHeight:"80vh"},treeImg:{height:"20vh",display:"inlineBlock",float:"left"},wikiRow:{width:"90%",marginLeft:"auto",marginRight:"auto",marginTop:15},wikiTextContainer:{width:"90%",bottom:10,marginLeft:"auto",marginRight:"auto",textAlign:"left",display:"flex",alignItems:"center",overflow:"scroll"}})($),te=a(27),ae=a.n(te),ne=a(29),re=a(117),oe=a(39),ie=(oe.common,oe.grey,oe.blueGrey,Object(re.a)(oe,["common","grey","blueGrey"]));var se=function(){for(var e=function(e){var t,a,n=e.length;if(n)for(;--n;)t=e[a=Math.floor(Math.random()*(n+1))],e[a]=e[n],e[n]=t;return e}(Object.keys(ie)),t=[],a=0,n=[500,700,300,900,"A400","A200","A700","A100",600,200,100,50];a<n.length;a++){var r=n[a],o=!0,i=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;t.push(ie[u][r])}}catch(d){i=!0,s=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}}return t}();function le(){return(le=Object(ne.a)(ae.a.mark(function e(){var t,a,n,r,o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("https://opendata.paris.fr/api/records/1.0/search/?dataset=arbresremarquablesparis&rows=2000");case 3:return a=e.sent,e.next=6,a.json();case 6:for(n=e.sent,r=Math.min(n.parameters.rows,n.nhits),o=0;o<r;o++)t.push(o);return e.abrupt("return",this.setState({treeArray:n.records,nbTrees:r,treeIds:t},function(){console.log("nb loaded trees",this.state.nbTrees)}));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ce(e,t,a){return ue.apply(this,arguments)}function ue(){return(ue=Object(ne.a)(ae.a.mark(function e(t,a,n){var r,o,i,s,l,c,u,d;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("api call lat",t),console.log("api call long",a),r=[],"https://opendata.paris.fr/api/records/1.0/search/?dataset=les-arbres&q=&facet=typeemplacement&facet=domanialite&facet=arrondissement&facet=libellefrancais&facet=genre&facet=espece&facet=varieteoucultivar&facet=circonferenceencm&facet=hauteurenm&facet=stadedeveloppement&facet=remarquable&geofilter.distance=",e.next=6,fetch("".concat("https://opendata.paris.fr/api/records/1.0/search/?dataset=les-arbres&q=&facet=typeemplacement&facet=domanialite&facet=arrondissement&facet=libellefrancais&facet=genre&facet=espece&facet=varieteoucultivar&facet=circonferenceencm&facet=hauteurenm&facet=stadedeveloppement&facet=remarquable&geofilter.distance=").concat(t,"%2C").concat(a,"%2C").concat(n,"&rows=2000"));case 6:return o=e.sent,e.next=9,o.json();case 9:for(i=e.sent,s=Math.min(i.parameters.rows,i.nhits),l={},c=0,u=0;u<s;u++)r.push(u),(d=i.records[u].fields.libellefrancais)in l?l[d].ids.push(u):(l[d]={ids:[u],color:se[c]},c++);return e.abrupt("return",this.setState({treeArray:i.records,treeNamesDict:l,nbTrees:s},function(){console.log("nb loaded trees",this.state.nbTrees)}));case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function de(){return(de=Object(ne.a)(ae.a.mark(function e(t){var a,n,r,o,i,s,l,c,u,d,h,m,p;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split(" ").join("_"),console.log("Safe Keyword: ",a),n="https://fr.wikipedia.org/w/api.php?format=json&origin=*",r="",o=0,e.prev=5,e.next=8,fetch("".concat(n,"&action=query&list=search&srsearch=").concat(a));case 8:return i=e.sent,e.next=11,i.json();case 11:return s=e.sent,console.log("Search response Json",s),e.next=15,s.query.search[0].title;case 15:return r=e.sent,e.next=18,s.query.search[0].pageid;case 18:o=e.sent,console.log("Best result",r),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log("search error",e.t0);case 25:return l="",e.prev=26,e.next=29,fetch("".concat(n,"&action=query&prop=extracts&exintro&explaintext&redirects=1&titles=").concat(r));case 29:return c=e.sent,e.next=32,c.json();case 32:return u=e.sent,console.log("descQuery Json",u),e.next=36,u.query.pages;case 36:return d=e.sent,console.log("Pages",d),e.next=40,d[Object.keys(d)[0]].extract;case 40:l=e.sent,e.next=46;break;case 43:e.prev=43,e.t1=e.catch(26),console.log("desc error",e.t1);case 46:return h="",e.prev=47,e.next=50,fetch("".concat(n,"&action=query&prop=pageimages&titles=").concat(r,"&pithumbsize=200"));case 50:return m=e.sent,e.next=53,m.json();case 53:return p=e.sent,console.log("thumbQuery Json",p),e.next=57,p.query.pages[o].thumbnail.source;case 57:h=e.sent,console.log("Thumbnail",h),e.next=64;break;case 61:e.prev=61,e.t2=e.catch(47),console.log("thumbnail error",e.t2);case 64:return e.abrupt("return",this.setState({wikiDesc:l,thumbnailUrl:h},function(){console.log("wikiData",this.state.thumbnailUrl)}));case 65:case"end":return e.stop()}},e,this,[[5,22],[26,43],[47,61]])}))).apply(this,arguments)}var he=a(8);function me(e,t){t.map.getCanvas().style.cursor="pointer",this.setState({hoveredTreeID:this.state.clickedTreeID||0===this.state.clickedTreeID?"":e}),J.isMobile&&this.setState({clickedTreeID:e})}function pe(e,t,a){a||(a=64);for(var n,r,o,i=e[1],s=e[0],l=t,c=[],u=l/(111.32*Math.cos(i*Math.PI/180)),d=l/110.574,h=0;h<a;h++)n=h/a*(2*Math.PI),r=u*Math.cos(n),o=d*Math.sin(n),c.push([s+r,i+o]);return c.push(c[0]),{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[c]}}]}}}function be(e){e.map.getCanvas().style.cursor="",this.setState({hoveredTreeID:""})}function fe(e){this.setState({hoveredTreeID:e,clickedTreeID:e})}function ge(){console.log("CLICKED"),this.setState({openDrawer:!0});var e=this.state.hoveredTreeID?this.state.hoveredTreeID:this.state.clickedTreeID,t=this.state.treeArray[e].fields.genre,a=this.state.treeArray[e].fields.espece;(function(e){return de.apply(this,arguments)}).apply(this,[t+"_"+a])}function ye(){this.setState({hoveredTreeID:"",clickedTreeID:""})}function ve(){this.setState({openDrawer:!1,thumbnailUrl:"",wikiDesc:""})}function Ee(e){e.addControl(new he.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!1}))}var we=Object(W.f)({minZoom:11,maxZoom:16,accessToken:F.b}),ke=F.a,je={speed:.6},Oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={treeArray:"",nbTrees:0,treeIds:[],hoveredTreeID:"",clickedTreeID:"",clickedTreeName:"",mapCenter:[2.3466110229492188,48.85613168160397],zoom:[12],openDrawer:!1,wikiTreeData:"",thumbnailUrl:"",wikiDesc:""},a.onTreeHover=me.bind(Object(p.a)(a)),a.onTreeEndHover=be.bind(Object(p.a)(a)),a.onTreeClick=fe.bind(Object(p.a)(a)),a.onInfoButtonClick=ge.bind(Object(p.a)(a)),a.onCloseButtonClick=ye.bind(Object(p.a)(a)),a.toggleDrawer=ve.bind(Object(p.a)(a)),a.onMapLoad=Ee.bind(Object(p.a)(a)),a.treeData=function(){return le.apply(this,arguments)}.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.treeData()}},{key:"render",value:function(){var e=this.state.hoveredTreeID,t=this.state.clickedTreeID,a=this.state.mapCenter,n=this.state.zoom;return r.a.createElement("div",null,r.a.createElement(we,{onStyleLoad:this.onMapLoad,style:ke,center:a,containerStyle:{width:"100vw",height:"100vh"},flyToOptions:je,zoom:n,maxBounds:[[2.14402,48.772687],[2.529051,48.969946]]},r.a.createElement(j,{text:"Accueil",variant:"outlined",to:"/"},"Home"),r.a.createElement(G,{onTreeHover:this.onTreeHover,onTreeEndHover:this.onTreeEndHover,treeIds:this.state.treeIds,treeArray:this.state.treeArray,onTreeClick:this.onTreeClick,markerType:"symbol"}),(e||t||0===e||0===t)&&r.a.createElement(Z,{isClicked:t||0===t?1:0,hoveredTree:this.state.treeArray[e||0===e?e:t],getMeThere:!0,onCloseButtonClick:this.onCloseButtonClick,onInfoButtonClick:this.onInfoButtonClick})),r.a.createElement(ee,{wikiDesc:this.state.wikiDesc,thumbnailUrl:this.state.thumbnailUrl,treeName:this.state.clickedTreeName,openDrawer:this.state.openDrawer,toggleDrawer:this.toggleDrawer}))}}]),t}(n.Component),xe=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oe,null))}}]),t}(n.Component);function Ce(){return(Ce=Object(ne.a)(ae.a.mark(function e(t,a){var n,r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?proximity=2.350699,48.852737&access_token=").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",this.setState({longitude:r.features[0].center[0],latitude:r.features[0].center[1],locationAvailable:!0}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Te=a(112),De=a.n(Te),Ie=a(113),Ae=a.n(Ie),Se=a(115),Ne=a.n(Se),Me=a(114),He=a.n(Me),Le=a(70),Be=a.n(Le);function Re(e,t){return e?r.a.createElement("table",{style:{marginLeft:"auto",marginRight:"auto",background:"rgba(255,255,255,0.2)",borderRadius:"6px"}},r.a.createElement("tbody",null,Object.keys(t).map(function(e,a){return n=a,o=e,i=t[e].color,r.a.createElement("tr",{key:n,style:{verticalAlign:"middle",textAlign:"left"}},r.a.createElement("td",null,r.a.createElement("span",{style:{height:16,width:16,backgroundColor:i,borderRadius:50,display:"inline-block",marginRight:20,verticalAlign:"middle",backdropFilter:"blur(5px)"}})),r.a.createElement("td",null,r.a.createElement(Be.a,null,o)));var n,o,i}))):r.a.createElement("div",{style:{width:"70vw",marginLeft:"auto",marginRight:"auto",background:"rgba(255,255,255,0.2)",borderRadius:"6px"}},r.a.createElement(Be.a,null,"C'est la hess morray y'a pas d'arbres ici"))}var ze=Object(f.withStyles)({root:{width:"100%"},panel:{background:"transparent",border:0,boxShadow:"none"},sumExpanded:{overflow:"auto"},expansionPanelSummaryExpandIcon:{right:"auto"},detailsRoot:{padding:0,width:"100%",alignItems:"center",display:"inline-block",textAlign:"center",overflow:"auto"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(De.a,{defaultExpanded:!0,className:t.panel},r.a.createElement(Ae.a,{classes:{root:t.sumRoot,expanded:t.sumExpanded,expandIcon:t.expansionPanelSummaryExpandIcon},expandIcon:r.a.createElement(He.a,null)}),r.a.createElement(Ne.a,{classes:{root:t.detailsRoot}},Re(e.nbTrees,e.treeNamesDict))))}),Ue=Object(W.f)({minZoom:14,maxZoom:20,accessToken:F.b}),qe=F.a,Fe=150,We={speed:0},Ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).locationFound=function(e){a.setState({longitude:e.coords.longitude,latitude:e.coords.latitude,locationAvailable:!0},function(){ce.apply(Object(p.a)(a),[a.state.latitude,a.state.longitude,Fe])})},a.errorHandler=function(e){1===e.code?alert("Error: Access is denied!"):2===e.code&&alert("Error: Position is unavailable!")},a.state={locationAvailable:!1,treeArray:[],treeNamesDict:{},nbTrees:0,hoveredTreeID:"",clickedTreeID:"",address:a.props.address?a.props.address:"",latitude:0,longitude:0,zoom:[16],openDrawer:!1,wikiTreeData:"",thumbnailUrl:"",wikiDesc:""},a.onTreeHover=me.bind(Object(p.a)(a)),a.onTreeEndHover=be.bind(Object(p.a)(a)),a.onTreeClick=fe.bind(Object(p.a)(a)),a.onInfoButtonClick=ge.bind(Object(p.a)(a)),a.onCloseButtonClick=ye.bind(Object(p.a)(a)),a.toggleDrawer=ve.bind(Object(p.a)(a)),a.onMapLoad=Ee.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getUserPosition",value:function(){var e=this;if(this.state.address)(function(e,t){return Ce.apply(this,arguments)}).apply(this,[this.state.address,F.b]).then(function(){ce.apply(e,[e.state.latitude,e.state.longitude,Fe])});else if(navigator.geolocation){navigator.geolocation.getCurrentPosition(this.locationFound,this.errorHandler,{timeout:6e4})}else alert("Sorry, browser does not support geolocation and no address was supplied")}},{key:"componentDidMount",value:function(){this.state.locationAvailable?ce.apply(this,[this.state.latitude,this.state.longitude,Fe]):this.getUserPosition.apply(this)}},{key:"render",value:function(){var e=this,t=[this.state.longitude,this.state.latitude],a=this.state.zoom,n=this.state.hoveredTreeID,o=this.state.clickedTreeID;return this.state.locationAvailable?r.a.createElement("div",null,r.a.createElement(Ue,{onStyleLoad:this.onMapLoad,style:qe,center:t,containerStyle:{width:"100vw",height:"100vh"},flyToOptions:We,zoom:a,maxBounds:[[2.14402,48.772687],[2.529051,48.969946]]},r.a.createElement(W.d,{coordinates:t,anchor:"center"},r.a.createElement(R.a,{color:"primary"})),r.a.createElement(ze,{nbTrees:this.state.nbTrees,treeNamesDict:this.state.treeNamesDict}),Object.keys(this.state.treeNamesDict).map(function(t,a){return r.a.createElement(G,{key:a,treeType:t,onTreeHover:e.onTreeHover,onTreeEndHover:e.onTreeEndHover,treeIds:e.state.treeNamesDict[t].ids,treeArray:e.state.treeArray,onTreeClick:e.onTreeClick,markerType:"circle",color:e.state.treeNamesDict[t].color})}),(n||o||0===n||0===o)&&r.a.createElement(Z,{isClicked:o||0===o?1:0,hoveredTree:this.state.treeArray[n||0===n?n:o],getMeThere:!1,onCloseButtonClick:this.onCloseButtonClick,onInfoButtonClick:this.onInfoButtonClick}),r.a.createElement("div",{style:{position:"absolute",top:"5px"}},r.a.createElement(j,{text:"Accueil",variant:"outlined",to:"/",syle:{top:300}},"Home")),r.a.createElement(W.b,{data:pe(t,Fe/1e3,1e5).data,lineLayout:{visibility:"visible"},linePaint:{"line-color":"#3f51b5","line-width":1}})),r.a.createElement(ee,{content:"wiki",wikiDesc:this.state.wikiDesc,thumbnailUrl:this.state.thumbnailUrl,openDrawer:this.state.openDrawer,toggleDrawer:this.toggleDrawer})):r.a.createElement(X,null)}}]),t}(n.Component),Pe=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ge,{address:this.props.location.state?this.props.location.state.address:""}))}}]),t}(n.Component),Je=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h1",null,"404")),r.a.createElement("p",null,"Wow c'est la hess ici ou quoi ?"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:q}),r.a.createElement(c.a,{path:"/explore",component:xe}),r.a.createElement(c.a,{path:"/around-me",component:Pe}),r.a.createElement(c.a,{component:Je}))));i.a.render(Ze,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},30:function(e){e.exports={b:"pk.eyJ1IjoiaGlwcG9seXRlaiIsImEiOiJjanhieGMyZWYwNGVyM3BwcjJxdHZ0azBiIn0.EYdUWJXo8YByqTGUyVVqZA",a:"mapbox://styles/hippolytej/cjgnojfg700a02rp30bjdees6"}},56:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.697ae2b2.chunk.js.map